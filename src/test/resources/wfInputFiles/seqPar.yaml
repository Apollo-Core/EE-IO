name: "seqParWf"
dataIns:
  - name: "input1"
    type: "number"
    source: "input1"
  - name: "input2"
    type: "number"
    source: "input2"
  - name: "input3"
    type: "number"
    source: "input3"
workflowBody:
  - sequence: 
      name: "outerSeq"
      dataIns:
        - name: "oSeqIn1"
          type: "number"
          source: "seqParWf/input1"
        - name: "oSeqIn2"
          type: "number"
          source: "seqParWf/input2"
        - name: "oSeqIn3"
          type: "number"
          source: "seqParWf/input3"
      sequenceBody:
        - parallel:
            name: "parallel1"
            dataIns:
              - name: "par1In1"
                type: "number"
                source: "outerSeq/oSeqIn1"
              - name: "par1In2"
                type: "number"
                source: "outerSeq/oSeqIn2"
              - name: "par1In3"
                type: "number"
                source: "outerSeq/oSeqIn3"
            parallelBody:
              - section:
                  - sequence:
                      name: "innerSeq"
                      dataIns:
                        - name: "iSeqIn"
                          type: "number"
                          source: "parallel1/par1In1"
                      sequenceBody:
                        - function:
                            name: "func1"
                            type: "serverless"
                            dataIns:
                              - name: "input"
                                type: "number"
                                source: "innerSeq/iSeqIn"
                            dataOuts:
                              - name: "output"
                                type: "number"
                        - function:
                            name: "func2"
                            type: "serverless"
                            dataIns:
                              - name: "input"
                                type: "number"
                                source: "func1/output"
                            dataOuts:
                              - name: "output"
                                type: "number"
                      dataOuts:
                        - name: "out"
                          type: "number"          
              - section:
                  - function:
                      name: "func3"
                      type: "local"
                      dataIns:
                        - name: "in"
                          type: "number"
                          source: "parallel1/par1In2"
                      dataOuts:
                        - name: "out"
                          type: "number"
              - section:
                  - function:
                      name: "func4"
                      type: "local"
                      dataIns:
                        - name: "in"
                          type: "number"
                          source: "parallel1/par1In3"
                      dataOuts:
                        - name: "out"
                          type: "number"
            dataOuts:
              - name: "resul1"
                type: "number"
                source: "func2/output"
              - name: "result2"
                type: "number"
                source: "func3/out"
              - name: "result3"
                type: "number"
                source: "func4/out"
        - parallel:
            name: "parallel2"
            dataIns:
              - name: "par2In1"
                type: "number"
                source: "parallel1/resul1"
              - name: "par2In2"
                type: "number"
                source: "parallel1/result2"
              - name: "par2In3"
                type: "number"
                source: "parallel1/result3"
              - name: "par2In4"
                type: "number"
                source: "seqParWf/input3"
            parallelBody:        
              - section:
                  - function:
                      name: "func5"
                      type: "local"
                      dataIns:
                        - name: "in1"
                          type: "number"
                          source: "parallel2/par1In1"
                        - name: "in2"
                          type: "number"
                          source: "parallel2/par1In2"
                      dataOuts:
                        - name: "out"
                          type: "number"
              - section:
                  - function:
                      name: "func6"
                      type: "local"
                      dataIns:
                        - name: "in1"
                          type: "number"
                          source: "parallel2/par1In3"
                        - name: "in2"
                          type: "number"
                          source: "parallel2/par1In4"
                      dataOuts:
                        - name: "out"
                          type: "number"
            dataOuts:
              - name: "res1"
                type: "number"
                source: "func5/output"
              - name: "res2"
                type: "number"
                source: "func6/out"
        - function:
            name: "func7"
            type: "serverless"
            dataIns:
              - name: "duration"
                type: "number"
                source: "parallel2/res1"
              - name: "randomIn"
                type: "number"
                source: "parallel2/res2"
            dataOuts: 
              - name: "result"
                type: "number"
      dataOuts:
        - name: "result"
          type: "number"
          source: "func7/result"     
dataOuts:
  - name: "wf_result"
    type: "number"
    source: "outerSeq/result"
